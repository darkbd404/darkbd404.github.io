<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Number Lookup Pro</title>
    <style>
        :root {
            --primary: #0084ff;
            --bg: #f0f4f8;
            --card: #ffffff;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg);
            margin: 0;
            padding: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .main-card {
            background: var(--card);
            width: 100%;
            max-width: 500px;
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }

        .header h2 { color: var(--primary); text-align: center; margin-top: 0; }

        .search-area {
            display: flex;
            background: #f1f3f6;
            border-radius: 12px;
            padding: 5px;
            margin-bottom: 20px;
        }

        input {
            flex: 1;
            border: none;
            background: transparent;
            padding: 12px;
            font-size: 16px;
            outline: none;
        }

        button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0 20px;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
        }

        #result-display {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .info-grid {
            background: #f9fbff;
            padding: 15px;
            border-radius: 15px;
            border: 1px solid #eef2f7;
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .label { font-weight: 600; color: #666; font-size: 13px; }
        .value { color: #111; font-weight: 700; font-size: 14px; text-align: right; }
        .value a { color: var(--primary); text-decoration: none; }

        .social-box {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 8px;
            margin-top: 15px;
        }

        .social-btn {
            text-decoration: none;
            color: white;
            font-size: 11px;
            font-weight: bold;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
        }

        .wa { background: #25D366; }
        .tg { background: #0088cc; }
        .imo { background: #00aaff; }

        #hidden-iframe { display: none; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>

<div class="main-card">
    <div class="header">
        <h2>üîç Number Insight Pro</h2>
    </div>
    
    <div class="search-area">
        <input type="tel" id="numInput" placeholder="01XXXXXXXXX" maxlength="11">
        <button onclick="startLookup()">Search</button>
    </div>

    <iframe id="hidden-iframe"></iframe>

    <div id="result-display">
        <div class="info-grid">
            <div class="info-row"><span class="label">üìû API ‡¶∞‡ßá‡¶∏‡¶™‡¶®‡ßç‡¶∏:</span> <span class="value" id="res-status">Success</span></div>
            <div class="info-row"><span class="label">üì° Carrier:</span> <span class="value" id="res-carrier">Detecting...</span></div>
            <div class="info-row"><span class="label">üåç Country:</span> <span class="value">Bangladesh (BD)</span></div>
            <div class="info-row"><span class="label">üåê International Format:</span> <span class="value" id="res-intl">+88</span></div>
            <div class="info-row"><span class="label">üìû Local Format:</span> <span class="value" id="res-local">01...</span></div>
            <div class="info-row"><span class="label">üïí Timezones:</span> <span class="value">Asia/Dhaka</span></div>
            <div class="info-row"><span class="label">üë§ Truecaller:</span> <span class="value" id="res-true">N/A</span></div>
            <div class="info-row"><span class="label">‚ùì Name:</span> <span class="value" id="res-name">Loading...</span></div>
            <div class="info-row"><span class="label">‚è∞ Timestamp:</span> <span class="value" id="res-time">--</span></div>
            <div class="info-row"><span class="label">üåè Browser IP:</span> <span class="value" id="res-ip">--</span></div>
            <div class="info-row"><span class="label">üì±üì° Network:</span> <span class="value" id="res-net">WiFi/Data</span></div>
            <div class="info-row"><span class="label">üß≠ Browser Map:</span> <span class="value" id="res-map"><a href="#">Click to View</a></span></div>
            <div class="info-row"><span class="label">‚è∞ Time & Date:</span> <span class="value" id="res-now">--</span></div>
        </div>

        <div class="social-box">
            <a id="wa-link" href="#" target="_blank" class="social-btn wa">üí¨ WhatsApp</a>
            <a id="tg-link" href="#" target="_blank" class="social-btn tg">üì® Telegram</a>
            <a id="imo-link" href="#" target="_blank" class="social-btn imo">üì± Imo</a>
        </div>
    </div>
</div>

<script>
    function getOperator(num) {
        const prefix = num.substring(0, 3);
        const operators = {
            '017': 'Grameenphone', '013': 'Grameenphone',
            '018': 'Robi',
            '016': 'Airtel',
            '019': 'Banglalink', '014': 'Banglalink',
            '015': 'Teletalk'
        };
        return operators[prefix] || 'Unknown Operator';
    }

    async function startLookup() {
        const num = document.getElementById('numInput').value;
        const resultBox = document.getElementById('result-display');
        const iframe = document.getElementById('hidden-iframe');

        if (num.length !== 11) {
            alert("‡¶∏‡¶†‡¶ø‡¶ï ‡ßß‡ßß ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶¶‡¶ø‡¶®!");
            return;
        }

        resultBox.style.display = 'block';
        iframe.src = "https://turecaller.pikaapis0.workers.dev/?number=+88" + num;

        // ‡¶Ö‡¶™‡¶æ‡¶∞‡ßá‡¶ü‡¶∞ ‡¶°‡¶ø‡¶ü‡ßá‡¶ï‡¶∂‡¶®
        document.getElementById('res-carrier').innerText = getOperator(num);

        // ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞ ‡¶Ü‡¶á‡¶™‡¶ø ‡¶è‡¶¨‡¶Ç ‡¶®‡ßá‡¶ü‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶ï ‡¶°‡¶ø‡¶ü‡ßá‡¶ï‡¶∂‡¶®
        try {
            const ipRes = await fetch('https://api.ipify.org?format=json');
            const ipData = await ipRes.json();
            document.getElementById('res-ip').innerText = ipData.ip;

            // ‡¶®‡ßá‡¶ü‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶ï ‡¶ü‡¶æ‡¶á‡¶™ (‡¶Ø‡¶¶‡¶ø ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡ßá)
            const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
            document.getElementById('res-net').innerText = connection ? `${connection.effectiveType.toUpperCase()} / ${connection.type || 'Data'}` : 'WiFi/Mobile Data';
        } catch(e) { document.getElementById('res-ip').innerText = "Not Found"; }

        // ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶™ ‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶® (‡¶ó‡ßÅ‡¶ó‡¶≤ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶™ ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶∂‡¶®)
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition((pos) => {
                const url = `https://www.google.com/maps?q=${pos.coords.latitude},${pos.coords.longitude}`;
                document.getElementById('res-map').innerHTML = `<a href="${url}" target="_blank">üìç View on Map</a>`;
            }, () => {
                document.getElementById('res-map').innerText = "Location Blocked";
            });
        }

        // ‡¶è‡¶™‡¶ø‡¶Ü‡¶á ‡¶°‡ßá‡¶ü‡¶æ ‡¶´‡ßá‡¶ö (AllOrigins Proxy)
        const apiUrl = `https://turecaller.pikaapis0.workers.dev/?number=+88${num}`;
        fetch(`https://api.allorigins.win/get?url=${encodeURIComponent(apiUrl)}`)
            .then(res => res.json())
            .then(proxyData => {
                const data = JSON.parse(proxyData.contents);
                document.getElementById('res-status').innerText = data.error ? "Error" : "Success";
                document.getElementById('res-true').innerText = data.Truecaller || "N/A";
                document.getElementById('res-name').innerText = data.Unknown || "Not Found";
                document.getElementById('res-time').innerText = data.timestamp || Date.now();
            });

        // ‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø ‡¶§‡¶•‡ßç‡¶Ø
        document.getElementById('res-intl').innerText = "+88" + num;
        document.getElementById('res-local').innerText = num;
        document.getElementById('res-now').innerText = new Date().toLocaleString();
        
        // ‡¶∏‡ßã‡¶∂‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï
        document.getElementById('wa-link').href = `https://wa.me/+88${num}`;
        document.getElementById('tg-link').href = `https://t.me/+88${num}`;
        document.getElementById('imo-link').href = `https://imo.im/+88${num}`;
    }
</script>

</body>
</html>
